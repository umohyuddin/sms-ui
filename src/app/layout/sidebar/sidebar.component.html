<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<div class="sidebar-container p-3" style="width: 250px; height: 87vh;">
  <ul class="list-unstyled p-0 m-0">
    <li *ngFor="let item of menuItems">
       <button
        *ngIf="!item.isExpandable && item.perm"
        class="sidebar-btn w-100 mb-1 d-flex justify-content-start align-items-center"
        [routerLink]="'/dashboard/'+item.path"
        [ngClass]="{'active-label': activeMenu === item.id}"
        (click)="setActiveAndToggleMenu(item.id, '')"
      >
        <div class="{{item.icon}}"></div>
        <div>{{ item.label }}</div>
      </button>
      <div *ngIf="item.isExpandable && item.perm" class="w-100">
        <button
          class="sidebar-btn w-100 mb-1 d-flex justify-content-between align-items-center"
          [ngClass]="{'active-label': activeMenu === item.id}"
          (click)="setToggleMenu(item.id)"
        >
          <div class="d-flex justify-content-start align-items-center">
            <div class="{{item.icon}}"></div>
            <div> {{ item.label }}</div>
          </div>
          <div class="bi" [ngClass]="toggleMenu === item.id ? 'bi-dash' : 'bi-plus'"></div>
        </button>
        <ul *ngIf="toggleMenu === item.id " class="list-unstyled ps-3">
          <li *ngFor="let child of item.children">
            <button
              *ngIf="child.perm"
              class="sidebar-btn w-100 mb-1 d-flex justify-content-start align-items-center"
              [routerLink]="'/dashboard/'+item.path+'/'+child.path"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
              (click)="setActiveMenu(item.id)"
            >
              <div class="{{child.icon}}"></div>
              {{ child.label }}
            </button>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</div>
